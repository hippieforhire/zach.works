<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Zach.works</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
        }
        h1 {
            margin-top: 20px;
            font-size: 2.5rem;
        }
        p {
            font-size: 1.5rem;
        }
        #gameCanvas {
            display: none;
            margin: 20px auto;
            background: linear-gradient(to bottom, #87ceeb, #e0f7fa);
        }
        #score {
            font-size: 24px;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 10px;
            display: none;
            margin-top: 10px;
        }
        #restartButton {
            position: absolute;
            top: 590px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            padding: 10px 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 10px;
            cursor: pointer;
            display: none;
        }
        #quote {
            margin: 20px;
            font-size: 1.5rem;
            font-style: italic;
        }
        #darkLightToggle {
            position: absolute;
            top: 50px;
            right: 10px;
            padding: 5px 15px;
            background: #333;
            color: white;
            cursor: pointer;
        }
        #content {
            position: relative;
            z-index: 1;
        }
        #particleCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        button:hover {
            transform: scale(1.1);
        }

        /* New clock style */
        #clock {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="content">
        <h1>Welcome to Zach.works</h1>
        <div id="clock"></div>
        <p>My name is Zach Rogers. I am just playing around with coding right now. Try these features below!</p>

        <!-- Buttons for features -->
        <button onclick="changeBackgroundColor()">Change Background Color</button>
        <button onclick="displayRandomQuote()">Get Random Quote</button>
        <button onclick="playNumberGuess()">Play Number Guessing Game</button>
        <button id="startGameButton">Play Flappy Bird Game</button>

        <!-- Quote Display -->
        <div id="quote">Click the "Get Random Quote" button for some inspiration!</div>

        <!-- Score Display -->
        <div id="score">Score: 0</div>

        <!-- Number Guessing Game -->
        <div id="guessOutput"></div>
    </div>

    <!-- Game elements -->
    <button id="restartButton" onclick="restartGame()">Restart Game</button>
    <canvas id="gameCanvas" width="480" height="640"></canvas>

    <!-- Particle Canvas for Effects -->
    <canvas id="particleCanvas"></canvas>

    <!-- Dark/Light Mode Toggle -->
    <button id="darkLightToggle" onclick="toggleDarkLight()">Switch to Light Mode</button>

    <script>
        // Background Color Change
        function changeBackgroundColor() {
            const colors = ["black", "blue", "green", "purple", "orange", "red"];
            document.body.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        }

        // Random Quotes
        const quotes = [
            "The best time to plant a tree was 20 years ago. The second best time is now.",
            "Success is not final, failure is not fatal: It is the courage to continue that counts.",
            "Believe you can and you're halfway there.",
            "Do what you can, with what you have, where you are.",
            "Hardships often prepare ordinary people for an extraordinary destiny."
        ];

        function displayRandomQuote() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById("quote").textContent = randomQuote;
        }

        // Number Guessing Game
        function playNumberGuess() {
            const randomNumber = Math.floor(Math.random() * 10) + 1;
            const guess = prompt("Guess a number between 1 and 10:");
            const output = document.getElementById("guessOutput");
            if (parseInt(guess) === randomNumber) {
                output.textContent = `You guessed right! The number was ${randomNumber}.`;
            } else {
                output.textContent = `Sorry, you guessed ${guess}. The correct number was ${randomNumber}.`;
            }
        }

        // Dark/Light Mode
        let darkMode = true;
        function toggleDarkLight() {
            const darkLightToggleButton = document.getElementById("darkLightToggle");
            if (darkMode) {
                document.body.style.backgroundColor = 'white';
                document.body.style.color = 'black';
                darkLightToggleButton.textContent = "Switch to Dark Mode";
            } else {
                document.body.style.backgroundColor = 'black';
                document.body.style.color = 'white';
                darkLightToggleButton.textContent = "Switch to Light Mode";
            }
            darkMode = !darkMode;
        }

        // Flappy Bird Game Logic
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const startButton = document.getElementById("startGameButton");
        const restartButton = document.getElementById("restartButton");
        let bird, pipes, score, isGameOver, timer;

        // Game Setup
        function initGame() {
            bird = { x: 50, y: canvas.height / 2, width: 30, height: 30, gravity: 0.6, lift: -12, velocity: 0 };
            pipes = [];
            score = 0;
            isGameOver = false;
            timer = 0;
            updateScore();
            document.getElementById("score").style.display = "block";
            restartButton.style.display = "none";
        }

        function startGame() {
            initGame();
            canvas.style.display = "block";
            startButton.style.display = "none";
            restartButton.style.display = "none";
            window.addEventListener("click", birdFlap);
            window.addEventListener("touchstart", birdFlap);
            gameLoop();
        }

        function birdFlap() {
            bird.velocity = bird.lift;
        }

        function gameLoop() {
            if (isGameOver) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            bird.velocity += bird.gravity;
            bird.y += bird.velocity;
            if (bird.y + bird.height > canvas.height || bird.y < 0) {
                endGame();
            }
            drawBird();
            updatePipes();
            drawPipes();
            checkCollisions();
            updateScore();
            timer++;
            requestAnimationFrame(gameLoop);
        }

        function drawBird() {
            ctx.fillStyle = "yellow";
            ctx.fillRect(bird.x, bird.y, bird.width, bird.height);
        }

        function updatePipes() {
            if (timer % 60 === 0 && !isGameOver) {
                const pipeHeight = Math.floor(Math.random() * (canvas.height / 2)) + 100;
                const gap = 150; // Ensure consistent pipe spacing
                pipes.push({ x: canvas.width, y: pipeHeight, gap: gap });
            }
            pipes.forEach(pipe => {
                pipe.x -= 3;
            });
            pipes = pipes.filter(pipe => pipe.x + 50 > 0);
        }

        function drawPipes() {
            ctx.fillStyle = "green";
            pipes.forEach(pipe => {
                ctx.fillRect(pipe.x, 0, 50, pipe.y);
                ctx.fillRect(pipe.x, pipe.y + pipe.gap, 50, canvas.height - pipe.y - pipe.gap);
            });
        }

        function checkCollisions() {
            pipes.forEach(pipe => {
                if (bird.x + bird.width > pipe.x && bird.x < pipe.x + 50) {
                    if (bird.y < pipe.y || bird.y + bird.height > pipe.y + pipe.gap) {
                        endGame();
                    }
                }
            });
        }

        function endGame() {
            isGameOver = true;
            window.removeEventListener("click", birdFlap);
            window.removeEventListener("touchstart", birdFlap);
            restartButton.style.display = "block";
            document.getElementById("score").textContent += " - Game Over!";
        }

        function restartGame() {
            initGame();
            window.addEventListener("click", birdFlap);
            window.addEventListener("touchstart", birdFlap);
            gameLoop();
        }

        function updateScore() {
            score++;
            document.getElementById("score").textContent = `Score: ${score}`;
        }

        startButton.addEventListener("click", startGame);

        // Clock Display
        setInterval(() => {
            const now = new Date();
            const time = now.toLocaleTimeString();
            document.getElementById("clock").textContent = time;
        }, 1000);

        // Particle Effect (Optional)
        const particleCanvas = document.getElementById("particleCanvas");
        const particleCtx = particleCanvas.getContext("2d");
        particleCanvas.width = window.innerWidth;
        particleCanvas.height = window.innerHeight;

        window.addEventListener("resize", () => {
            particleCanvas.width = window.innerWidth;
            particleCanvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
